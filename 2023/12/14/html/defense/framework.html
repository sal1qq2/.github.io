<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>8.8. 防御框架 &mdash; Web安全学习笔记 1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/documentation_options.js?v=f2a433a1"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="8.9. 加固检查" href="reinforce.html" />
    <link rel="prev" title="8.7. 风险控制" href="riskcontrol.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Web安全学习笔记
          </a>
              <div class="version">
                1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">内容索引:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../basic/index.html">1. 序章</a></li>
<li class="toctree-l1"><a class="reference internal" href="../network/index.html">2. 计算机网络与协议</a></li>
<li class="toctree-l1"><a class="reference internal" href="../info/index.html">3. 信息收集</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vuln/index.html">4. 常见漏洞攻防</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language/index.html">5. 语言与框架</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intranet/index.html">6. 内网渗透</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cloud/index.html">7. 云安全</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">8. 防御技术</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="team.html">8.1. 团队建设</a></li>
<li class="toctree-l2"><a class="reference internal" href="redteam.html">8.2. 红蓝对抗</a></li>
<li class="toctree-l2"><a class="reference internal" href="sdl.html">8.3. 安全开发</a></li>
<li class="toctree-l2"><a class="reference internal" href="secops.html">8.4. 安全建设</a></li>
<li class="toctree-l2"><a class="reference internal" href="threat.html">8.5. 威胁情报</a></li>
<li class="toctree-l2"><a class="reference internal" href="att8ck.html">8.6. ATT&amp;CK</a></li>
<li class="toctree-l2"><a class="reference internal" href="riskcontrol.html">8.7. 风险控制</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">8.8. 防御框架</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">8.8.1. 防御纵深</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id3">8.8.1.1. 物理层</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4">8.8.1.2. 数据层</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id5">8.8.1.3. 终端层</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id6">8.8.1.4. 系统层</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id7">8.8.1.5. 网络层</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id8">8.8.1.6. 应用层</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id9">8.8.2. 访问控制</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id10">8.8.2.1. 验证机制</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id11">8.8.2.2. 会话管理</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id12">8.8.2.3. 访问控制</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id13">8.8.3. 输入处理</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id14">8.8.3.1. 黑名单</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id15">8.8.3.2. 白名单</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id16">8.8.3.3. 过滤</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id17">8.8.3.4. 安全地处理数据</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="reinforce.html">8.9. 加固检查</a></li>
<li class="toctree-l2"><a class="reference internal" href="intrusiondetection.html">8.10. 入侵检测</a></li>
<li class="toctree-l2"><a class="reference internal" href="zt.html">8.11. 零信任安全</a></li>
<li class="toctree-l2"><a class="reference internal" href="honeypot.html">8.12. 蜜罐技术</a></li>
<li class="toctree-l2"><a class="reference internal" href="rasp.html">8.13. RASP</a></li>
<li class="toctree-l2"><a class="reference internal" href="emergency.html">8.14. 应急响应</a></li>
<li class="toctree-l2"><a class="reference internal" href="forensic.html">8.15. 溯源分析</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../auth/index.html">9. 认证机制</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">10. 工具与资源</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual/index.html">11. 手册速查</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/index.html">12. 其他</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Web安全学习笔记</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html"><span class="section-number">8. </span>防御技术</a></li>
      <li class="breadcrumb-item active"><span class="section-number">8.8. </span>防御框架</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/defense/framework.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="id1">
<h1><span class="section-number">8.8. </span>防御框架<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h1>
<section id="id2">
<h2><span class="section-number">8.8.1. </span>防御纵深<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h2>
<p>根据纵深，防御可以分为物理层、数据层、终端层、系统层、网络层、应用层几层。这几层纵深存在层层递进相互依赖的关系。</p>
<section id="id3">
<h3><span class="section-number">8.8.1.1. </span>物理层<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h3>
<p>物理层实际应用中接触较少，但仍是非常重要的位置。如果物理层设计不当，很容易被攻击者通过物理手段绕过上层防御。</p>
</section>
<section id="id4">
<h3><span class="section-number">8.8.1.2. </span>数据层<a class="headerlink" href="#id4" title="Link to this heading">¶</a></h3>
<p>数据处于防御纵深较底层的位置，攻击的目标往往也是为了拿到数据，很多防御也是围绕数据不被破坏、窃取等展开的。</p>
</section>
<section id="id5">
<h3><span class="section-number">8.8.1.3. </span>终端层<a class="headerlink" href="#id5" title="Link to this heading">¶</a></h3>
<p>终端包括PC、手机、IoT以及其他的智能设备，连入网络的终端是否可信是需要解决的问题。</p>
</section>
<section id="id6">
<h3><span class="section-number">8.8.1.4. </span>系统层<a class="headerlink" href="#id6" title="Link to this heading">¶</a></h3>
<p>操作系统运行在终端上，可能会存在提权、非授权访问等问题。</p>
</section>
<section id="id7">
<h3><span class="section-number">8.8.1.5. </span>网络层<a class="headerlink" href="#id7" title="Link to this heading">¶</a></h3>
<p>网络层使用通信线路将多台计算机相互连接起来，依照商定的协议进行通信。网络层存在MITM、DDoS等攻击。</p>
</section>
<section id="id8">
<h3><span class="section-number">8.8.1.6. </span>应用层<a class="headerlink" href="#id8" title="Link to this heading">¶</a></h3>
<p>应用层是最上层，主要涉及到Web应用程序的各种攻击。</p>
</section>
</section>
<section id="id9">
<h2><span class="section-number">8.8.2. </span>访问控制<a class="headerlink" href="#id9" title="Link to this heading">¶</a></h2>
<p>Web应用需要限制用户对应用程序的数据和功能的访问，以防止用户未经授权访问。访问控制的过程可以分为验证、会话管理和访问控制三个地方。</p>
<section id="id10">
<h3><span class="section-number">8.8.2.1. </span>验证机制<a class="headerlink" href="#id10" title="Link to this heading">¶</a></h3>
<p>验证机制在一个应用程序的用户访问处理中是一个最基本的部分，验证就是确定该用户的有效性。大多数的web应用都采用使用的验证模型，即用户提交一个用户名和密码，应用检查它的有效性。在银行等安全性很重要的应用程序中，基本的验证模型通常需要增加额外的证书和多级登录过程，比如客户端证书、硬件等。</p>
</section>
<section id="id11">
<h3><span class="section-number">8.8.2.2. </span>会话管理<a class="headerlink" href="#id11" title="Link to this heading">¶</a></h3>
<p>为了实施有效的访问控制，应用程序需要一个方法来识别和处理这一系列来自每个不同用户的请求。大部分程序会为每个会话创建一个唯一性的token来识别。</p>
<p>对攻击者来说，会话管理机制高度地依赖于token的安全性。在部分情况下，一个攻击者可以伪装成受害的授权用户来使用Web应用程序。这种情况可能有几种原因，其一是token生成的算法的缺陷，使得攻击者能够猜测到其他用户的token；其二是token后续处理的方法的缺陷，使得攻击者能够获得其他用户的token。</p>
</section>
<section id="id12">
<h3><span class="section-number">8.8.2.3. </span>访问控制<a class="headerlink" href="#id12" title="Link to this heading">¶</a></h3>
<p>处理用户访问的最后一步是正确决定对于每个独立的请求是允许还是拒绝。如果前面的机制都工作正常，那么应用程序就知道每个被接受到的请求所来自的用户的id，并据此决定用户对所请求要执行的动作或要访问的数据是否得到了授权。</p>
<p>由于访问控制本身的复杂性，这使得它成为攻击者的常用目标。开发者经常对用户会如何与应用程序交互作出有缺陷的假设，也经常省略了对某些应用程序功能的访问控制检查。</p>
</section>
</section>
<section id="id13">
<h2><span class="section-number">8.8.3. </span>输入处理<a class="headerlink" href="#id13" title="Link to this heading">¶</a></h2>
<p>很多对Web应用的攻击都涉及到提交未预期的输入，它导致了该应用程序设计者没有料到的行为。因此，对于应用程序安全性防护的一个关键的要求是它必须以一个安全的方式处理用户的输入。</p>
<p>基于输入的漏洞可能出现在一个应用程序的功能的任何地方，并与其使用的技术类型相关。对于这种攻击，输入验证是常用的必要防护。常用的防护机制有如下几种：黑名单、白名单、过滤、处理。</p>
<section id="id14">
<h3><span class="section-number">8.8.3.1. </span>黑名单<a class="headerlink" href="#id14" title="Link to this heading">¶</a></h3>
<p>黑名单包含已知的被用在攻击方面的一套字面上的字符串或模式，验证机制阻挡任何匹配黑名单的数据。</p>
<p>一般来说，这种方式是被认为是输入效果较差的一种方式。主要有两个原因，其一Web应用中的一个典型的漏洞可以使用很多种不同的输入来被利用，输入可以是被加密的或以各种不同的方法表示。</p>
<p>其二，漏洞利用的技术是在不断地改进的，有关利用已存在的漏洞类型的新的方法不可能被当前黑名单阻挡。</p>
</section>
<section id="id15">
<h3><span class="section-number">8.8.3.2. </span>白名单<a class="headerlink" href="#id15" title="Link to this heading">¶</a></h3>
<p>白名单包含一系列的字符串、模式或一套标准来匹配符合要求的输入。这种检查机制允许匹配白名单的数据，阻止之外的任何数据。这种方式相对比较有效，但需要比较好的设计。</p>
</section>
<section id="id16">
<h3><span class="section-number">8.8.3.3. </span>过滤<a class="headerlink" href="#id16" title="Link to this heading">¶</a></h3>
<p>过滤会删除潜在的恶意字符并留下安全的字符，基于数据过滤的方式通常是有效的，并且在许多情形中，可作为处理恶意输入的通用解决方案。</p>
</section>
<section id="id17">
<h3><span class="section-number">8.8.3.4. </span>安全地处理数据<a class="headerlink" href="#id17" title="Link to this heading">¶</a></h3>
<p>非常多的web应用程序漏洞的出现是因为用户提供的数据是以不安全的方法被处理的。在一些情况下，存在安全的编程方法能够避免通常的问题。例如，SQL注入攻击能够通过预编译的方式组织，XSS在大部分情况下能够被转义所防御。</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="riskcontrol.html" class="btn btn-neutral float-left" title="8.7. 风险控制" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="reinforce.html" class="btn btn-neutral float-right" title="8.9. 加固检查" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019-2023, Lyle.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>